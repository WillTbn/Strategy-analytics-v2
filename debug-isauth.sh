#!/bin/bash

echo "ğŸ”§ Debug EspecÃ­fico de isAuthenticated"
echo "======================================"

echo ""
echo "ğŸ“ Passos para debugar:"
echo "1. Acesse: http://localhost:9011"
echo "2. Abra DevTools (F12) â†’ Console"
echo "3. Tente fazer login com CPF: 398.780.438-60 e senha: 123456"
echo ""
echo "ğŸ” Logs importantes para observar:"
echo "   âœ… 'Tentando autenticar com: ...'"
echo "   âœ… 'Cliente encontrado: ...'"
echo "   âœ… 'Cookies salvos: ...'"
echo "   âš ï¸  'isAuthenticated - debug: ...' (novo log adicionado)"
echo "   âš ï¸  'Router Debug: ...' (verifique se isAuthenticated Ã© true)"
echo ""
echo "ğŸ¯ O que deve acontecer:"
echo "   1. Login encontra o cliente"
echo "   2. Salva cookies com expires_at"
echo "   3. isAuthenticated() verifica se token nÃ£o expirou"
echo "   4. Router permite acesso a /system/"
echo ""
echo "ğŸš¨ Se isAuthenticated ainda for false:"
echo "   - Verifique se expires_at estÃ¡ no futuro"
echo "   - Verifique se o formato da data estÃ¡ correto"
echo "   - Observe os logs de 'isAuthenticated - debug'"